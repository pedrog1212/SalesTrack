@page "{id?}"
@model SalesTrack.WebFrontend.Pages.Inventory.EditModel

<div class="container mx-auto px-4 py-6 max-w-3xl mx-auto p-6 border-dark-subtle shadow rounded-3 bg-primary-subtle">
    
    <h2 class="text-2xl font-bold mb-4">@ViewData["Title"]</h2>

    <form method="post" class="space-y-4">

        <input type="hidden" asp-for="InventoryItem.Id" />

        <div>
            <label asp-for="InventoryItem.ProductName" class="block font-medium">Name</label>
            <input asp-for="InventoryItem.ProductName" class="border p-2 rounded w-full" />
            <span asp-validation-for="InventoryItem.ProductName" class="text-red-600 text-sm"></span>
        </div>

        <div>
            <label asp-for="InventoryItem.SKU" class="block font-medium">SKU</label>
            <input asp-for="InventoryItem.SKU" class="border p-2 rounded w-full" />
            <span asp-validation-for="InventoryItem.SKU" class="text-red-600 text-sm"></span>
        </div>

        <div>
            <label asp-for="InventoryItem.QuantityAvailable" class="block font-medium">Quantity</label>
            <input asp-for="InventoryItem.QuantityAvailable" type="number" class="border p-2 rounded w-full" />
            <span asp-validation-for="InventoryItem.QuantityAvailable" class="text-red-600 text-sm"></span>
        </div>

        <div>
            <label asp-for="InventoryItem.UnitPrice" class="block font-medium">Unit Price</label>
            <input asp-for="InventoryItem.UnitPrice" type="number" step="0.01" class="border p-2 rounded w-full" />
            <span asp-validation-for="InventoryItem.UnitPrice" class="text-red-600 text-sm"></span>
        </div>

        <br/>

        <div class="flex justify-between items-center space-x-2">

            <button type="submit" class="btn btn-primary">Save</button>

            @if (Model.InventoryItem.Id > 0)
            {
                <button type="button" onclick="confirmDelete()" class="btn btn-danger">Delete</button>
            }

            <a asp-page="Index" class="px-4 py-2 bg-gray-400 text-black-50 rounded hover:bg-gray-500">Cancel</a>

        </div>

    </form>

    <form id="deleteForm" method="post" asp-page-handler="Delete">
        <input type="hidden" asp-for="InventoryItem.Id" />
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        function confirmDelete() {
            if (confirm("Are you sure you want to delete this item?")) {
                document.getElementById("deleteForm").submit();
            }
        }
    </script>
}